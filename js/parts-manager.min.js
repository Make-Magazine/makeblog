function make_parts_manager_sort_received(e){jQuery(e).hasClass("empty")&&jQuery(e).removeClass("empty").find(".empty").remove()}function make_parts_manager_sort_removed(e){jQuery(e).children().length===0&&jQuery(e).append($('<div class="empty">empty</div>')).addClass("empty")}function make_parts_manager_sort_update(e){make_parts_manager_update_parts()}function make_parts_manager_update_parts(){var e=0;jQuery(".parts-wrapper").each(function(t,n){jQuery(this).attr("id","part-"+e);jQuery("#part-"+e+' input[type="hidden"]').attr({name:"part-number-"+e,value:e});jQuery("#part-"+e+" .part-title h3").html("Part "+e);jQuery("#part-"+e+" input#parts-name").attr("name","parts-name-"+e);jQuery("#part-"+e+" input#parts-qty").attr("name","parts-qty-"+e);jQuery("#part-"+e+" input#parts-url").attr("name","parts-url-"+e);jQuery("#part-"+e+" input#parts-type").attr("name","parts-type-"+e);jQuery("#part-"+e+" textarea#parts-notes").attr("name","parts-notes-"+e);e++})}jQuery(document).ready(function(e){e("#make_magazine_parts_step_manager h3.hndle").prepend('<span class="parts-ico"></span>');e(".add-part").click(function(){var t=e(".parts-wrapper").length,n=e(".parts-template").clone(!0).removeClass("parts-template").addClass("hide").attr("id","part-"+t);e('input[name="total-parts"]').val(t);n.appendTo(e(this).parent()).slideDown().find(".part-title h3").html("Part "+t);e("#part-"+t+' input[name="parts-name-0"]').attr("name","parts-name-"+t);e("#part-"+t+' input[name="parts-qty-0"]').attr("name","parts-qty-"+t);e("#part-"+t+' input[name="parts-url-0"]').attr("name","parts-url-"+t);e("#part-"+t+' input[name="parts-type-0"]').attr("name","parts-type-"+t);e("#part-"+t+' textarea[name="parts-notes-0"]').attr("name","parts-notes-"+t)}).disableSelection();e(".remove-part").click(function(){e(this).parent().parent().slideUp(500,function(){jQuery(this).remove();make_parts_manager_update_parts();var t=e(".parts-wrapper").length-1;e('input[name="total-parts"]').val(t)})});e(".parts.sortable").sortable({placeholder:"ui-state-highlight",axis:"y",receive:function(e,t){make_parts_manager_sort_received(this)},remove:function(e,t){make_parts_manager_sort_removed(this)},update:function(e,t){make_parts_manager_sort_update(this)}})});